<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juan Carlos | Operations Hub</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700;900&display=swap" rel="stylesheet">
    
    <style>
        body {
            margin: 0;
            overflow-x: hidden;
            background-color: #0f172a;
            color: #f8fafc;
            font-family: 'Montserrat', sans-serif;
        }

        #world {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0;
            background: radial-gradient(circle at center, #1e293b 0%, #020617 100%);
        }

        .interface {
            position: relative;
            z-index: 10;
        }

        /* TARJETAS ESTILO OFICINA */
        .office-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(8px);
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .office-card:hover {
            background: rgba(255, 255, 255, 0.07);
            border-color: #fbbf24; /* Dorado al hover */
            transform: translateY(-2px);
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.5);
        }

        /* ANIMACIONES DE ENTRADA */
        .slide-in { opacity: 0; animation: slideLoad 0.8s forwards; }
        .delay-1 { animation-delay: 0.1s; }
        .delay-2 { animation-delay: 0.2s; }
        .delay-3 { animation-delay: 0.3s; }

        @keyframes slideLoad {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        /* CV PRINCIPAL (Estilo Intacto) */
        .cv-main-card {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.8), rgba(15, 23, 42, 0.9));
            border: 1px solid rgba(255,255,255,0.05);
        }
        .cv-main-card:hover .progress-bar { width: 100%; }

    </style>
</head>
<body>

    <canvas id="world"></canvas>

    <main class="interface min-h-screen flex flex-col items-center justify-center p-6">
        
        <div class="w-full max-w-lg mb-10 text-left slide-in">
            <p class="text-[10px] text-emerald-400 uppercase tracking-[0.3em] mb-2">
                <i class="fas fa-circle text-[6px] mr-2 animate-pulse"></i>System Access: Authorized
            </p>
            <h1 class="text-4xl md:text-5xl font-black text-white leading-tight">
                JUAN CARLOS<br>
                <span class="text-slate-500">MANAGEMENT HUB</span>
            </h1>
            <div class="mt-4 h-[1px] w-16 bg-amber-500"></div>
            <p class="mt-4 text-sm text-slate-300 font-light max-w-md">
                Bienvenido. Aquí centralizo mi trayectoria profesional, recursos de gestión y enlaces corporativos.
            </p>
        </div>

        <div class="w-full max-w-lg flex flex-col gap-4">

            <div class="slide-in delay-1 group hover-trigger">
                <a href="https://tusuario.github.io/tu-repo-del-cv" target="_blank" 
                   class="cv-main-card relative p-6 rounded-t-lg block overflow-hidden shadow-2xl transition-all duration-300 group-hover:-translate-y-1">
                    
                    <div class="absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition duration-500 transform group-hover:scale-110">
                        <i class="fas fa-layer-group text-8xl text-white"></i>
                    </div>

                    <div class="flex justify-between items-start relative z-10">
                        <div>
                            <span class="bg-blue-900/50 text-blue-200 text-[10px] font-bold px-2 py-1 rounded border border-blue-500/30 uppercase tracking-wider">
                                <i class="fas fa-cube mr-1"></i> 3D Interactive
                            </span>
                            <h2 class="text-2xl font-bold mt-3 text-white">Curriculum Vitae</h2>
                            <p class="text-xs text-slate-400 mt-1">Experiencia inmersiva completa</p>
                        </div>
                        <i class="fas fa-arrow-up-right-from-square text-slate-500 group-hover:text-white transition"></i>
                    </div>

                    <div class="mt-6 h-1 w-full bg-slate-800 rounded-full overflow-hidden">
                        <div class="progress-bar h-full bg-gradient-to-r from-blue-600 to-amber-400 w-1/4 transition-all duration-700 ease-out"></div>
                    </div>
                </a>

                <a href="cv.pdf" target="_blank" class="block bg-slate-900/90 border-x border-b border-slate-700/50 p-3 rounded-b-lg hover:bg-slate-800 transition flex items-center justify-between group/pdf">
                    <div class="flex items-center gap-3">
                        <div class="bg-red-500/10 p-1.5 rounded text-red-500 border border-red-500/20">
                            <i class="fas fa-file-pdf"></i>
                        </div>
                        <span class="text-xs text-slate-300 font-medium group-hover/pdf:text-white">Descargar versión PDF clásica</span>
                    </div>
                    <i class="fas fa-download text-xs text-slate-500 group-hover/pdf:text-white transition"></i>
                </a>
            </div>

            <div class="grid grid-cols-2 gap-3 slide-in delay-2">
                
                <a href="https://grupogestiondiez.es" target="_blank" class="office-card p-4 rounded-lg hover-trigger group">
                    <div class="flex justify-between items-start mb-3">
                        <i class="fas fa-building text-amber-500/80 text-xl"></i>
                    </div>
                    <h3 class="font-bold text-sm text-slate-200 group-hover:text-white">Gestión Diez</h3>
                    <p class="text-[10px] text-slate-500 mt-1">Web Corporativa</p>
                </a>

                <a href="https://viamusic.es" target="_blank" class="office-card p-4 rounded-lg hover-trigger group">
                    <div class="flex justify-between items-start mb-3">
                        <i class="fas fa-music text-purple-400/80 text-xl"></i>
                    </div>
                    <h3 class="font-bold text-sm text-slate-200 group-hover:text-white">Via Music</h3>
                    <p class="text-[10px] text-slate-500 mt-1">Sonido & Eventos</p>
                </a>

                <a href="https://instagram.com/TU_USUARIO" target="_blank" class="office-card p-4 rounded-lg hover-trigger group">
                    <div class="flex justify-between items-start mb-3">
                        <i class="fab fa-instagram text-pink-500/80 text-xl"></i>
                    </div>
                    <h3 class="font-bold text-sm text-slate-200 group-hover:text-white">Instagram</h3>
                    <p class="text-[10px] text-slate-500 mt-1">Social Lifestyle</p>
                </a>

                <a href="#" class="office-card p-4 rounded-lg hover-trigger group">
                    <div class="flex justify-between items-start mb-3">
                        <i class="fas fa-signature text-emerald-400/80 text-xl"></i>
                    </div>
                    <h3 class="font-bold text-sm text-slate-200 group-hover:text-white">Presentación</h3>
                    <p class="text-[10px] text-slate-500 mt-1">Propuesta de Valor</p>
                </a>

            </div>
        </div>
    </main>

    <script>
        const canvas = document.querySelector('#world');
        const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        
        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x0f172a, 0.04); // Niebla azul corporativo

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 100);
        camera.position.z = 12;
        camera.position.y = 0;

        // ILUMINACIÓN
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
        scene.add(ambientLight);
        
        const dirLight = new THREE.DirectionalLight(0xfbbf24, 1.5); // Sol dorado
        dirLight.position.set(5, 10, 7);
        scene.add(dirLight);

        // --- CONSTRUCCIÓN DEL EDIFICIO ---
        // Definimos las dimensiones de nuestra "Torre" invisible
        const towerWidth = 6;  // Cubos de ancho
        const towerHeight = 14; // Cubos de alto
        const towerDepth = 2;   // Cubos de profundidad
        const cubeSize = 0.6;   // Tamaño visual + espacio
        const totalCubes = towerWidth * towerHeight * towerDepth;

        const geometry = new THREE.BoxGeometry(0.45, 0.45, 0.45);
        
        // Materiales
        const matBase = new THREE.MeshPhysicalMaterial({ color: 0x64748b, roughness: 0.2, metalness: 0.1, transparent: true, opacity: 0.8 });
        const matGold = new THREE.MeshPhysicalMaterial({ color: 0xfbbf24, roughness: 0.1, metalness: 0.9 });

        const cubes = [];
        
        // Creamos los cubos y les asignamos DOS posiciones:
        // 1. Random (Donde flotan normalmente)
        // 2. Target (Su sitio exacto en el edificio)
        
        let i = 0;
        for(let x = 0; x < towerWidth; x++) {
            for(let y = 0; y < towerHeight; y++) {
                for(let z = 0; z < towerDepth; z++) {
                    
                    const isGold = Math.random() > 0.92;
                    const cube = new THREE.Mesh(geometry, isGold ? matGold : matBase);

                    // Posición objetivo (Centrada en pantalla)
                    const targetX = (x - towerWidth/2) * cubeSize;
                    const targetY = (y - towerHeight/2) * cubeSize;
                    const targetZ = (z - towerDepth/2) * cubeSize - 4; // Un poco atrás

                    // Posición Aleatoria Inicial (Esparcidos)
                    cube.position.x = (Math.random() - 0.5) * 25;
                    cube.position.y = (Math.random() - 0.5) * 25;
                    cube.position.z = (Math.random() - 0.5) * 10;

                    cube.userData = {
                        buildingPos: new THREE.Vector3(targetX, targetY, targetZ),
                        randomPos: new THREE.Vector3(cube.position.x, cube.position.y, cube.position.z),
                        floatSpeed: Math.random() * 0.01
                    };

                    scene.add(cube);
                    cubes.push(cube);
                    i++;
                }
            }
        }

        // --- INTERACTIVIDAD ---
        let isBuilding = false; // ¿Estamos construyendo?

        const triggers = document.querySelectorAll('.hover-trigger');
        triggers.forEach(t => {
            t.addEventListener('mouseenter', () => { isBuilding = true; });
            t.addEventListener('mouseleave', () => { isBuilding = false; });
        });

        // --- ANIMACIÓN ---
        function animate() {
            requestAnimationFrame(animate);

            cubes.forEach(cube => {
                if (isBuilding) {
                    // MODO CONSTRUCCIÓN: Ir suavemente a la posición del edificio
                    cube.position.lerp(cube.userData.buildingPos, 0.04);
                    // Rotación ordenada (alineada)
                    cube.rotation.x = THREE.MathUtils.lerp(cube.rotation.x, 0, 0.05);
                    cube.rotation.y = THREE.MathUtils.lerp(cube.rotation.y, 0, 0.05);
                } else {
                    // MODO FLOTANTE: Ir a su zona aleatoria + flotar
                    cube.position.lerp(cube.userData.randomPos, 0.02);
                    // Flotar un poco arriba/abajo
                    cube.position.y += Math.sin(Date.now() * 0.001 + cube.userData.randomPos.x) * 0.002;
                    // Rotación lenta constante
                    cube.rotation.x += 0.002;
                    cube.rotation.y += 0.002;
                }
            });

            renderer.render(scene, camera);
        }

        animate();

        // Responsive
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
